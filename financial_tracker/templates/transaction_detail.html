{% extends "base.html" %}
{% block content %}

    <h2>{{ page_data.transaction.name }}</h2>
    <p>Transaction ID: {{ page_data.transaction.id }}</p>
    <br/><br/>
    <h3>Update Transaction Info</h3>
    <form action="/transactions/{{ page_data.transaction.id }}/update/" method="POST">
        <label for="name">Name:</label>
        <br/>
        <input type="text" name="name" value="{{ page_data.transaction.name }}"/>
        <br/><br/>
        <label for="amount">Amount: (negative number for credit and positive for debit)</label>
        <br/>
        <input type="number" step=".01" name="amount" value="{{ page_data.transaction.amount }}">
        <br/><br/>
        <label for="date">Date: (when the transaction was made)</label>
        <br/>
        <input type="date" name="date" value="{{ page_data.transaction.date }}">
        <br/><br/>
        <button>Update</button>
    </form>

    <br/><br/>

    <h3>Add supporting Images:</h3>
    <form action="/images/" method="POST" enctype = "multipart/form-data">
        <input type="file" name="image">
        <input type="hidden" name="transaction_id" value="{{ page_data.transaction.id }}">
        <input type="submit">
    </form>

    <br/><br/>

    {% for image in page_data.images %}
        <img src= "{{ image['link'] }}" style="width: 250px">
        <form action = "/images/{{ image['id'] }}/delete/", method="POST">
            <button>Remove Image</button>
        </form>
        <br/><br/>
    {% endfor %}

    <br/><br/>
    
    <form action = "/transactions/{{ page_data.transaction.id }}/delete/", method="POST">
        <input type="submit" onclick="return confirm('Are you sure you want to delete this transaction?')" value="DELETE TRANSACTION"/>
    </form>

{% endblock %}